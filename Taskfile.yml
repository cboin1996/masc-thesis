version: '3'
silent: true
output: prefixed

tasks:
  dev:
    prefix: dev
    cmds:
      - task: build
    sources:
      - ./main.tex
      - ./references.bib
      - ./mystyle.sty
      - ./tex/*.tex

  build:
    prefix: build
    cmds:
      - pdflatex -shell-escape main.tex
      - bibtex main
      - pdflatex -shell-escape main.tex
      - pdflatex -shell-escape main.tex
      - task: clean

  clean:
    prefix: clean
    cmds:
      - rm main.aux main.bbl main.blg main.lof main.log main.lot main.out main.toc
